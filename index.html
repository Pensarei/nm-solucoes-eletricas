<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NM Solu√ß√µes El√©tricas | Eletricista no Rio de Janeiro</title>
  <meta name="description" content="NM Solu√ß√µes El√©tricas - Servi√ßos el√©tricos residenciais e comerciais no Rio de Janeiro. Eletrot√©cnico Marlon dos Santos. Desde 2014." />
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    /* Simple custom styles */
    :root { --accent: #f6c246; --bg: #0b0b0c; --card:#121214; --muted:#9aa0a6; }
    /* REMOVIDO: [data-theme="light"] */ /* N√£o √© mais necess√°rio se o tema √© fixo */
    body { background: linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.6)), var(--bg); color: white; }
    .card { background: var(--card); }
    .accent { color: var(--accent); }
    .btn-accent { background: var(--accent); color: #111827; }
    /* Horizontal carousel for services */
    .hc-scroll { overflow-x:auto; scroll-behavior:smooth; -webkit-overflow-scrolling: touch; }
    .hc-item { min-width: 280px; flex: 0 0 auto; } 
    /* Simple arrows */
    .arrow-btn { background: rgba(255,255,255,0.04); border-radius:9999px; width:40px; height:40px; display:flex; align-items:center; justify-content:center; }
    /* Testimonials */
    .testimonial { min-height: 120px; }
    /* Floating WhatsApp */
    .whatsapp-float { position: fixed; right: 20px; bottom: 20px; z-index: 60; }
    /* Smooth scroll offset */
    html { scroll-behavior: smooth; }
    /* Adicione estilo para as estrelas, se quiser */
    .star-rating { display: inline-block; color: var(--accent); }
    .star-rating span { font-size: 1.2em; }

    /* NOVO: Estilo para a imagem de fundo na se√ß√£o Home */
    .home-bg-image {
      position: absolute;
      bottom: 0; /* Alinha a imagem √† parte inferior da div */
      right: 0;
      width: 100%;
      height: 100%; /* Ajusta conforme necess√°rio, pode ser `auto` */
      background-image: url('home.png');
      background-size: contain; /* Garante que a imagem caiba sem cortar */
      background-repeat: no-repeat;
      background-position: bottom right; /* Posi√ß√£o no canto inferior direito */
      opacity: 0.1; /* Translucidez */
      z-index: -1; /* Fica atr√°s do conte√∫do */
      filter: grayscale(100%); /* Opcional: para harmonizar com o tema escuro */
      pointer-events: none; /* Garante que n√£o interfira com cliques no texto */
    }

    /* Em telas maiores (md), a imagem volta a ser um item separado na grid */
    @media (min-width: 768px) {
      .home-bg-image {
        position: relative; /* Remove o posicionamento absoluto */
        height: 100%; /* Ajusta a altura novamente */
        width: 100%;
        background-image: none; /* Remove a imagem de background */
        opacity: 1; /* Remove a opacidade */
        filter: none; /* Remove o grayscale */
        display: block; /* Garante que seja vis√≠vel */
      }
      .home-bg-image img {
        display: block; /* Mostra a imagem dentro do div */
      }
    }
  </style>
</head>
<body class="antialiased" id="page-root">

  <header class="w-full fixed top-0 left-0 z-40">
    <div class="max-w-5xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <div class="w-10 h-10 rounded-full bg-black card flex items-center justify-center border border-white/5">
          <span class="font-bold accent">NM</span>
        </div>
        <div>
          <a href="#home" class="text-sm font-semibold">NM Solu√ß√µes El√©tricas</a>
          <div class="text-xs text-gray-400">Eletrot√©cnico Marlon dos Santos</div>
        </div>
      </div>

      <nav class="hidden md:flex items-center space-x-6 text-sm">
        <a href="#home" class="hover:underline">Home</a>
        <a href="#sobre" class="hover:underline">Sobre</a>
        <a href="#servicos" class="hover:underline">Servi√ßos</a>
        <a href="#portfolio" class="hover:underline">Portf√≥lio</a>
        <a href="#depoimentos" class="hover:underline">Depoimentos</a>
        <a href="#contato" class="hover:underline">Contato</a>
        </nav>

      <div class="md:hidden">
        <button id="mobile-open" class="p-2 arrow-btn">‚ò∞</button>
      </div>
    </div>
  </header>

  <main class="pt-24">

    <section id="home" class="w-full px-4 py-16 grid md:grid-cols-2 gap-8 items-center relative"> <div>
        <h1 class="text-4xl md:text-5xl font-extrabold leading-tight accent">Instala√ß√£o segura para sua casa ou neg√≥cio ‚ö°</h1>
        <p class="mt-4 text-gray-300">Desde 2014 levando confian√ßa e qualidade em servi√ßos el√©tricos residenciais e comerciais no Rio de Janeiro.</p>
        <div class="mt-6 flex items-center space-x-4">
          <a class="btn-accent px-5 py-3 rounded shadow font-semibold" href="https://wa.me/5521964675661?text=Ol%C3%A1%2C%20gostaria%20de%20um%20or%C3%A7amento%20para%20meu%C3%B3vel.">Chamar no WhatsApp</a>
          <div class="text-sm text-gray-400">Seg a Sex: 8h √†s 17h</div>
        </div>

        <div class="mt-8 flex items-center space-x-6 text-gray-400">
          <div class="flex flex-col items-center">
            <div class="w-10 h-10 card flex items-center justify-center rounded mb-2">üè†</div>
            <div class="text-xs">Residencial</div>
          </div>
          <div class="flex flex-col items-center">
            <div class="w-10 h-10 card flex items-center justify-center rounded mb-2">üè¢</div>
            <div class="text-xs">Comercial</div>
          </div>
        </div>
      </div>

      <div class="rounded overflow-hidden shadow-lg home-bg-image">
        <img src="home.png" alt="Preview NM Solu√ß√µes El√©tricas" class="w-full object-cover h-72 md:h-96 hidden md:block"/> </div>
    </section>

    <section id="sobre" class="w-full px-4 py-12">
      <div class="card p-8 rounded">
        <h2 class="text-2xl font-bold">Quem Somos</h2>
        <p class="mt-3 text-gray-300">A <strong>NM Solu√ß√µes El√©tricas</strong>, comandada pelo eletrot√©cnico <strong>Marlon dos Santos</strong>, atua desde 2014 oferecendo solu√ß√µes el√©tricas residenciais e comerciais no Rio de Janeiro. Priorizamos seguran√ßa, qualidade e atendimento r√°pido.</p>
        <div class="mt-6 grid grid-cols-2 md:grid-cols-4 gap-4">
          <div class="p-4 card rounded text-center">
            <div class="text-xl">üéì</div>
            <div class="font-semibold mt-2">Profissional qualificado</div>
          </div>
          <div class="p-4 card rounded text-center">
            <div class="text-xl">‚ö°</div>
            <div class="font-semibold mt-2">Experi√™ncia desde 2014</div>
          </div>
          <div class="p-4 card rounded text-center">
            <div class="text-xl">üîí</div>
            <div class="font-semibold mt-2">Seguran√ßa e confiabilidade</div>
          </div>
          <div class="p-4 card rounded text-center">
            <div class="text-xl">üßæ</div>
            <div class="font-semibold mt-2">Or√ßamento sem compromisso</div>
          </div>
        </div>
      </div>
    </section>

    <section id="servicos" class="w-full mx-auto px-4 py-12">
      <h2 class="text-2xl font-bold mb-4">Nossos Servi√ßos</h2>
      <div class="relative">
        <button id="prev-serv" class="absolute left-0 top-1/2 transform -translate-y-1/2 hidden md:flex arrow-btn z-30">‚óÄ</button>
        <div class="hc-scroll flex space-x-4 px-12 md:px-6 pb-4">
          <div class="hc-item card rounded p-6">
            <h3 class="font-bold text-lg">üîå Instala√ß√µes el√©tricas</h3>
            <p class="mt-2 text-gray-300">Tomadas, fia√ß√£o, ilumina√ß√£o e disjuntores.</p>
            <button class="mt-4 btn-accent px-4 py-2 rounded" onclick="openWA('Instala√ß√µes el√©tricas')">Pedir or√ßamento</button>
          </div>
          <div class="hc-item card rounded p-6">
            <h3 class="font-bold text-lg">üß∞ Manuten√ß√£o el√©trica</h3>
            <p class="mt-2 text-gray-300">Reparo e diagn√≥stico de falhas el√©tricas.</p>
            <button class="mt-4 btn-accent px-4 py-2 rounded" onclick="openWA('Manuten√ß√£o el√©trica')">Pedir or√ßamento</button>
          </div>
          <div class="hc-item card rounded p-6">
            <h3 class="font-bold text-lg">üí° Ilumina√ß√£o LED</h3>
            <p class="mt-2 text-gray-300">Projetos modernos e econ√¥micos.</p>
            <button class="mt-4 btn-accent px-4 py-2 rounded" onclick="openWA('Ilumina√ß√£o LED')">Pedir or√ßamento</button>
          </div>
          <div class="hc-item card rounded p-6">
            <h3 class="font-bold text-lg">‚ö° Adequa√ß√µes e melhorias</h3>
            <p class="mt-2 text-gray-300">Atualiza√ß√£o de sistemas el√©tricos residenciais e comerciais.</p>
            <button class="mt-4 btn-accent px-4 py-2 rounded" onclick="openWA('Adequa√ß√µes e melhorias')">Pedir or√ßamento</button>
          </div>
        </div>
        <button id="next-serv" class="absolute right-0 top-1/2 transform -translate-y-1/2 hidden md:flex arrow-btn z-30">‚ñ∂</button>
      </div>
    </section>

    <section id="portfolio" class="w-full mx-auto px-4 py-12">
      <h2 class="text-2xl font-bold mb-6">Portf√≥lio</h2>
      <div class="relative">
        <button id="prev-port" class="absolute left-0 top-1/2 transform -translate-y-1/2 hidden md:flex arrow-btn z-30">‚óÄ</button>
        
        <div id="portfolio-carousel" class="hc-scroll flex space-x-4 px-12 md:px-6 pb-4">
          </div>
        
        <button id="next-port" class="absolute right-0 top-1/2 transform -translate-y-1/2 hidden md:flex arrow-btn z-30">‚ñ∂</button>
      </div>
    </section>

    <section id="depoimentos" class="w-full mx-auto px-4 py-12">
      <h2 class="text-2xl font-bold mb-6">Depoimentos</h2>
      <div id="testi-wrap" class="card p-6 rounded">
        <div id="testi-list" class="relative overflow-hidden">
          </div>
      </div>
    </section>

    <footer id="contato" class="w-full mx-auto px-4 py-12">
      <div class="card p-8 rounded">
        <div class="grid md:grid-cols-2 gap-6">
          <div>
            <h3 class="text-xl font-bold">Contato</h3>
            <p class="mt-2">NM Solu√ß√µes El√©tricas<br/>Eletrot√©cnico Marlon dos Santos<br/>Rio de Janeiro ‚Äî RJ</p>
            <p class="mt-4">üìû <a class="underline" href="https://wa.me/5521964675661">21 96467-5661</a></p>
            <p class="mt-2 text-sm text-gray-400">Seg a Sex: 8h √†s 17h</p>
          </div>
          <div>
            <h3 class="text-xl font-bold">Localiza√ß√£o</h3>
            <p class="mt-2 text-gray-300">Atendemos resid√™ncias e com√©rcios em toda a cidade do Rio de Janeiro.</p>
            <div class="mt-4 card rounded p-2">
              <div class="w-full h-48 flex items-center justify-center text-gray-500">Mapa integrado (Google Maps)</div>
            </div>
          </div>
        </div>

        <div class="mt-8 text-center text-sm text-gray-400">
          ¬© 2025 NM Solu√ß√µes El√©tricas ‚Äî Todos os direitos reservados
        </div>
      </div>
    </footer>

  </main>

  <div class="whatsapp-float">
    <a href="https://wa.me/5521964675661?text=Ol%C3%A1%2C%20gostaria%20de%20um%20or%C3%A7amento." target="_blank" rel="noopener" title="Chamar no WhatsApp">
      <div class="w-14 h-14 rounded-full flex items-center justify-center shadow-lg" style="background: #25D366;">
        <svg width="26" height="26" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg"><path d="M20.47 3.53A11.88 11.88 0 0012 .05C5.37.05.15 5.27.15 11.9c0 2.1.55 4.15 1.6 5.95L.05 24l6.34-1.65a11.82 11.82 0 005.7 1.45h.01c6.63 0 11.85-5.22 11.85-11.85 0-3.17-1.24-6.14-3.58-8.42z"/></svg>
      </div>
    </a>
  </div>

<script>
  // REMOVIDO: Theme toggle (persist in localStorage)
  // const themeToggle = document.getElementById('theme-toggle');
  // const root = document.documentElement;
  // function applyTheme(t){ document.documentElement.setAttribute('data-theme', t); localStorage.setItem('nm_theme', t); }
  // const saved = localStorage.getItem('nm_theme') || 'dark';
  // applyTheme(saved);
  // themeToggle.addEventListener('click', ()=> {
  //   const cur = document.documentElement.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
  //   applyTheme(cur);
  // });

  // Services carousel arrows
  const scrollWrapServ = document.querySelector('.hc-scroll');
  document.getElementById('prev-serv').addEventListener('click', ()=> {
    scrollWrapServ.scrollBy({left:-300, behavior:'smooth'});
  });
  document.getElementById('next-serv').addEventListener('click', ()=> {
    scrollWrapServ.scrollBy({left:300, behavior:'smooth'});
  });

  // Open WhatsApp with a prefilled subject
  function openWA(service){
    const msg = encodeURIComponent("Ol√°, gostaria de um or√ßamento para: " + service);
    window.open("https://wa.me/5521964675661?text=" + msg, "_blank");
  }

  // Basic mobile menu (optional)
  document.getElementById('mobile-open').addEventListener('click', ()=> {
    alert('Menu mobile: utilize o menu superior para navegar (em breve: menu mobile).');
  });

  // --- SCRIPT PARA O PORTF√ìLIO DIN√ÇMICO (COM SUPORTE A V√çDEOS) ---

  const portfolioImagePath = './portfolio-images/'; 
  const portfolioTextFile = './portfolio-images/portfolio-list.txt'; 

  const portfolioCarousel = document.getElementById('portfolio-carousel');

  function capitalizeWords(str) {
    if (!str) return '';
    return str.split(' ').map(word => {
      if (word.length === 0) return '';
      return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();
    }).join(' ');
  }

  function isVideo(fileName) {
    const videoExtensions = ['mp4', 'webm', 'ogg', 'mov', 'avi']; 
    const parts = fileName.split('.');
    if (parts.length > 1) {
      const extension = parts.pop().toLowerCase();
      return videoExtensions.includes(extension);
    }
    return false;
  }

  async function loadPortfolioImages() {
    try {
      const response = await fetch(portfolioTextFile);
      if (!response.ok) {
        throw new Error(`Erro ao carregar o arquivo de portf√≥lio: ${response.statusText}`);
      }
      const text = await response.text();
      const portfolioItems = text.split('\n').map(line => line.trim()).filter(line => line.length > 0);

      portfolioItems.forEach(itemFileName => {
        const fileNameWithoutExtension = itemFileName.split('.').slice(0, -1).join('.'); 
        const parts = fileNameWithoutExtension.split('-');

        let serviceName = parts[0].replace(/_/g, ' '); 
        let location = '';
        
        if (parts.length > 1) {
          location = parts.slice(1).join(' ').replace(/_/g, ' '); 
        }

        serviceName = capitalizeWords(serviceName);
        location = capitalizeWords(location);

        let mediaTag;
        if (isVideo(itemFileName)) {
          mediaTag = `<video src="${portfolioImagePath}${itemFileName}" autoplay loop muted playsinline class="w-full h-48 object-cover rounded"></video>`;
        } else {
          mediaTag = `<img src="${portfolioImagePath}${itemFileName}" alt="${serviceName} em ${location}" class="w-full h-48 object-cover rounded"/>`;
        }

        const portfolioItemHTML = `
          <div class="hc-item card rounded overflow-hidden">
            ${mediaTag}
            <div class="p-4">
              <div class="font-semibold">${serviceName}</div>
              <div class="text-sm text-gray-400">${location}</div>
            </div>
          </div>
        `;
        portfolioCarousel.insertAdjacentHTML('beforeend', portfolioItemHTML);
      });
    } catch (error) {
      console.error("N√£o foi poss√≠vel carregar o portf√≥lio:", error);
      portfolioCarousel.innerHTML = `<p class="text-red-400">Erro ao carregar o portf√≥lio. Tente novamente mais tarde.</p>`;
    }
  }

  loadPortfolioImages();

  const scrollWrapPort = document.getElementById('portfolio-carousel');
  document.getElementById('prev-port').addEventListener('click', ()=> {
    scrollWrapPort.scrollBy({left:-300, behavior:'smooth'});
  });
  document.getElementById('next-port').addEventListener('click', ()=> {
    scrollWrapPort.scrollBy({left:300, behavior:'smooth'});
  });

  // --- SCRIPT PARA DEPOIMENTOS DIN√ÇMICOS (CARREGADOS DE UM ARQUIVO TXT) ---

  const testiList = document.getElementById('testi-list');
  const testimonialsTextFile = './testimonials.txt'; // NOVO: Caminho para o arquivo de texto de depoimentos

  // Fun√ß√£o para renderizar um depoimento
  function renderTestimonial(testimonial) {
    // Aqui n√£o teremos estrelas ou data automaticamente, a menos que voc√™ as inclua no TXT
    // Se o formato fosse "Texto-Autor-Rating", poder√≠amos parsear o rating
    // Por enquanto, vamos manter simples como "Texto-Autor"
    return `
      <div class="testimonial">
        <p class="text-gray-300">"${testimonial.text}"</p>
        <div class="mt-2 text-sm text-gray-400">
          ‚Äî ${testimonial.author}
        </div>
      </div>
    `;
  }

  // Fun√ß√£o para carregar depoimentos do arquivo de texto
  async function loadTestimonialsFromTextFile() {
    try {
      const response = await fetch(testimonialsTextFile);
      if (!response.ok) {
        throw new Error(`Erro ao carregar o arquivo de depoimentos: ${response.statusText}`);
      }
      const text = await response.text();
      // Filtra linhas vazias e espa√ßos em branco
      const rawTestimonials = text.split('\n').map(line => line.trim()).filter(line => line.length > 0);
      
      const parsedTestimonials = rawTestimonials.map(line => {
        const parts = line.split('-');
        if (parts.length >= 2) {
          return {
            text: parts[0].trim(),
            author: parts[1].trim()
          };
        }
        return null; // Ignora linhas mal formatadas
      }).filter(Boolean); // Remove nulos

      // Limpa a lista atual e insere todos os depoimentos
      testiList.innerHTML = ''; 
      parsedTestimonials.forEach((testimonialData) => {
        const testimonialHTML = renderTestimonial(testimonialData);
        testiList.insertAdjacentHTML('beforeend', testimonialHTML);
      });

      // Reconfigura o carrossel de depoimentos ap√≥s carregar tudo
      reinitializeTestimonialCarousel();

    } catch (error) {
      console.error("N√£o foi poss√≠vel carregar os depoimentos:", error);
      testiList.innerHTML = `<p class="text-red-400">Erro ao carregar os depoimentos. Tente novamente mais tarde.</p>`;
    }
  }

  // VARI√ÅVEIS E FUN√á√ÉO DE CARROSSEL DE DEPOIMENTOS RECONFIGURADOS
  let currentTestiIndex = 0; 
  let testiInterval; 

  function reinitializeTestimonialCarousel() {
    const newTestiEls = document.querySelectorAll('#testi-list .testimonial');
    if (newTestiEls.length === 0) {
      if (testiInterval) clearInterval(testiInterval);
      testiList.innerHTML = `<p class="text-gray-400">Nenhum depoimento dispon√≠vel no momento.</p>`;
      return; 
    }

    if (testiInterval) {
      clearInterval(testiInterval);
    }

    currentTestiIndex = 0; 
    newTestiEls.forEach((el, idx) => {
      if (idx !== currentTestiIndex) {
        el.classList.add('hidden'); 
      } else {
        el.classList.remove('hidden');
      }
    });

    if (newTestiEls.length > 1) { 
      testiInterval = setInterval(()=> {
        newTestiEls[currentTestiIndex].classList.add('hidden'); 
        currentTestiIndex = (currentTestiIndex + 1) % newTestiEls.length; 
        newTestiEls[currentTestiIndex].classList.remove('hidden'); 
      }, 4000);
    }
  }

  // Chama a fun√ß√£o para carregar os depoimentos quando a p√°gina carregar
  loadTestimonialsFromTextFile(); 
</script>

</body>
</html>
